/*! ovh-ng-input-password - 1.2.1 - 2017-06-28 */
angular.module("ovh-ng-input-password",["pascalprecht.translate"]),angular.module("ovh-ng-input-password").directive("ovhNgInputPasswordToggle",function(){"use strict";return{restrict:"A",link:function(a,b,c){a.$watch(c.ovhNgInputPasswordToggle,function(a){b.attr("type",a===!0?"text":"password")})}}}),angular.module("ovh-ng-input-password").directive("ovhNgInputPassword",function(){"use strict";return{controllerAs:"$ctrl",bindToController:!0,restrict:"E",scope:{ngModel:"=",rules:"=",placeholder:"@",name:"@",strength:"&"},link:function(a,b,c,d){a.$ctrl.ngModelCtrl=d,a.$ctrl.init(),a.$ctrl.hasStrength=!!c.strength},require:"ngModel",templateUrl:"ovh-ng-input-password.html",controller:function(){function a(a){return a.id||_.kebabCase(a.caption)}function b(){c.valid?c.hasStrength?(c.passwordStrength={value:100*(c.strength({value:c.typedPassword||""})/1.5)+100/3},c.passwordStrength.type=c.passwordStrength.value<200/3?"warning":"success"):c.passwordStrength={value:100,type:"success"}:c.passwordStrength=c.hasStrength?{value:100*c.metRules/(3*c.rules.length),type:"danger"}:{value:100*c.metRules/c.rules.length,type:"danger"}}var c=this;this.passwordVisible=!1,this.typedPassword=this.ngModel||"",this.displayRules={},this.valid=!1,this.classes={},this.metRules=0,this.togglePassword=function(){this.passwordVisible=!this.passwordVisible},this.typing=function(d){this.valid=!0,this.classes={},this.metRules=0,_.forEach(this.rules,function(b){var e;e=_.isRegExp(b.validator)?!!b.validator.test(c.typedPassword):_.isFunction(b.validator)?!!b.validator(c.typedPassword):!!b.validator,c.metRules+=e?1:0,c.valid=c.valid&&e,c.ngModelCtrl.$setValidity(a(b),e),e&&d&&(c.classes[a(b)]=e),(!e&&(void 0!==c.displayRules[a(b)]||d||b.immediateWarning&&c.typedPassword.length)||e)&&(c.displayRules[a(b)]=e)}),this.valid?(this.ngModel=this.typedPassword,d&&(this.classes["ng-valid"]=this.valid)):d&&(this.classes["ng-invalid"]=!this.valid),b()},this.getRuleValue=function(b){return this.displayRules[a(b)]},this.getsFocus=function(){this.visible=!0,this.displayRules={},this.typedPassword&&this.typedPassword.length?c.typing(!0):c.typing()},this.losesFocus=function(){this.visible=!1,c.typing(!0)},this.init=function(){this.typing(),b()}}}}),angular.module("inputPassword").run(["$templateCache",function(a){"use strict";a.put("ovh-ng-input-password.html","<div class=input-password data-ng-class=$ctrl.classes><button type=button class=input-password data-ng-click=$ctrl.togglePassword();$event.stopPropagation();><svg class=vision data-ng-class=\"{'eye': !$ctrl.passwordVisible, 'eye-slash': $ctrl.passwordVisible}\"><path class=input-password-see d=M11.18,1.82A11.69,11.69,0,0,1,20.79,7.4,1.39,1.39,0,0,1,20.8,9a11.26,11.26,0,0,1-8.2,5.41C7.76,15.06,4.08,13,1.36,9.09a1.45,1.45,0,0,1,0-1.76,11.77,11.77,0,0,1,8.35-5.4C10.15,1.86,10.61,1.86,11.18,1.82ZM6.65,4.4A10.28,10.28,0,0,0,2.59,8.07a.37.37,0,0,0,0,.34,20,20,0,0,0,1.66,1.94A9.4,9.4,0,0,0,13,12.95a10.32,10.32,0,0,0,6.51-4.59.43.43,0,0,0,0-.37,10.25,10.25,0,0,0-2.09-2.34c-.59-.48-1.24-.88-1.87-1.32l-.09.08a4.89,4.89,0,0,1-1.49,6.43,5,5,0,0,1-5.81,0A4.9,4.9,0,0,1,6.28,8.29,5,5,0,0,1,6.65,4.4Zm.94,2.27a1.81,1.81,0,0,0,.31.55.51.51,0,0,0,.82-.44A2.24,2.24,0,0,1,10.1,4.71a4.21,4.21,0,0,1,1-.21.56.56,0,0,0,.51-.55.54.54,0,0,0-.59-.5A3.51,3.51,0,0,0,7.59,6.67Z /><path class=input-password-hide d=M20.79,7.4A14.57,14.57,0,0,0,19.73,6a3.7,3.7,0,0,1,.09.77,3.78,3.78,0,0,1-.29,1.41.28.28,0,0,1,0,.18l-.16.22a5.54,5.54,0,0,1-1.44,1.69A9.61,9.61,0,0,1,13,12.95a10.11,10.11,0,0,1-2.14.2L9.55,14.46a12.28,12.28,0,0,0,3,0A11.26,11.26,0,0,0,20.8,9,1.39,1.39,0,0,0,20.79,7.4Z /><path class=input-password-hide d=M17.44.77,6.33,11.87a11.21,11.21,0,0,1-1.82-1.33A4.76,4.76,0,0,1,2.24,6.76a3.69,3.69,0,0,1,.08-.71,14.11,14.11,0,0,0-1,1.28,1.45,1.45,0,0,0,0,1.76,13.55,13.55,0,0,0,3.92,3.84l-2.2,2.2,1.41,1.41L18.85,2.18Z /></svg></button> <input ovh-ng-input-password-toggle=$ctrl.passwordVisible placeholder={{$ctrl.placeholder}} type=password class=\"form-control input-password\" data-ng-class=$ctrl.classes data-ng-model=$ctrl.typedPassword data-ng-change=$ctrl.typing() data-ng-focus=$ctrl.getsFocus() data-ng-blur=$ctrl.losesFocus() data-uib-popover-template=\"'ovh-ng-input-password.popover.html'\" data-popover-class=input-password-popover data-popover-placement=right-top data-popover-append-to-body=true data-popover-trigger=focus></div><div class=input-password-small-device><div class=arrow_box data-ng-show=$ctrl.visible><div data-ng-include=\"'ovh-ng-input-password.popover.html'\"></div></div></div>"),a.put("ovh-ng-input-password.popover.html",'<div class=input-password-validation><ul><li data-ng-repeat="rule in $ctrl.rules track by rule.caption"><span class="circle pull-left" data-ng-if="$ctrl.getRuleValue(rule) === undefined"></span> <i class="ovh-font ovh-font-filled-check pull-left circle" data-ng-if="$ctrl.getRuleValue(rule) === true"></i> <i class="ovh-font ovh-font-filled-error pull-left circle" data-ng-if="$ctrl.getRuleValue(rule) === false"></i> <span class=caption data-ng-class="{met: $ctrl.getRuleValue(rule) === true, unmet: $ctrl.getRuleValue(rule) === false}" data-ng-bind=rule.caption></span></li></ul><div data-ng-if=$ctrl.passwordStrength.value><div><span class=input-password-label data-translate=input_password_strength></span> <span class="pull-right strength {{$ctrl.passwordStrength.type}}">{{ (\'input_password_\' + $ctrl.passwordStrength.type) | translate }}</span></div><uib-progressbar value=$ctrl.passwordStrength.value type={{$ctrl.passwordStrength.type}}></uib-progressbar></div></div>')}]);